{"version":3,"file":"radial-tree.umd.js","sources":["../src/js/index.js","../src/js/processing/timemap.js"],"sourcesContent":["import * as d3 from 'd3';\nimport {processTimeMapData} from './processing/timemap';\n\n/**\n *\n * Radial Tree Library\n *\n * @param {DOMElement} element\n @ @param {Array} cdx_data: decoded CDX Query data retrieved by:\n ``/web/timemap/json?url=example.com/&fl=timestamp:4,original&matchType=prefix\n &filter=statuscode:200&filter=mimetype:text/html&collapse=urlkey\n &collapse=timestamp:4&limit=100000``.\n * @param {Object} option\n * Option baseURL defines the target Wayback Machine server.\n *\n */\nexport function RadialTree(element, cdx_data, option) {\n  let GlobYear = 0;\n  let baseURL = 'https://web.archive.org';\n  // Use typeof check to allow empty string in baseURL value\n  if (typeof option.baseURL !== 'undefined') {\n    baseURL = option.baseURL;\n  }\n  if (!option.url) return;\n\n  init(element);\n\n  let {allYears, yearData} = processTimeMapData(option.url, cdx_data);\n\n  createYearButtons(element, option, allYears, yearData);\n\n  function init(container) {\n    let content = document.createElement('div');\n    content.setAttribute('class', 'rt-content');\n    let divBtn = document.createElement('div');\n    divBtn.setAttribute('class', 'div-btn');\n\n    let sequence = document.createElement('p');\n    sequence.setAttribute('class', 'sequence');\n    let chart = document.createElement('div');\n    chart.setAttribute('id', 'chart');\n    content.appendChild(divBtn);\n    content.appendChild(sequence);\n    content.appendChild(chart);\n    content.style.display = 'block';\n\n    container.appendChild(content);\n  }\n\n  function createYearButtons(element, option, allYears, yearData) {\n    let divBtn = element.querySelector('.div-btn');\n    if (!element.querySelector('.year-btn')) {\n      allYears.forEach(function (year, i) {\n        let btn = document.createElement('button');\n        btn.setAttribute('class', 'year-btn');\n        btn.setAttribute('id', allYears[i]);\n        btn.innerHTML = allYears[i];\n        btn.onclick = function (evt) {\n          let target = evt.target;\n          if (element.querySelector('.active-btn')) {\n            element.querySelector('.active-btn').classList.remove('active-btn');\n          }\n          target.classList.add('active-btn');\n          GlobYear = target.id;\n          let num = allYears.indexOf(target.id);\n          let text = makeNewText(num, yearData);\n          drawChart(element, option, text);\n        };\n        divBtn.appendChild(btn);\n        // highlight the 2nd last year if available, else hightlight the last.\n        // necessary because the last year may not have much data.\n        if(allYears.length >= 2) {\n          if (i === allYears.length - 2) btn.click();\n        } else {\n          if (i === allYears.length - 1) btn.click();\n        }\n      });\n    }\n  }\n\n  function drawChart(element, option, text) {\n    element.querySelector('.sequence').innerHTML = '';\n    element.querySelector('#chart').innerHTML = '';\n    const width = element.querySelector('#chart').offsetWidth;\n    const height = width;\n    const radius = Math.min(width, height) / 2;\n    let colors = d3.scaleOrdinal(d3.schemeCategory20b);\n    let vis = d3.select('#chart')\n      .append('svg:svg')\n      .attr('width', width)\n      .attr('height', height)\n      .append('svg:g')\n      .attr('id', 'd3_container')\n      .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');\n    let partition = d3.partition()\n      .size([2 * Math.PI, radius * radius]);\n    let arc = d3.arc()\n      .startAngle(function (d) {\n        return d.x0;\n      })\n      .endAngle(function (d) {\n        return d.x1;\n      })\n      .innerRadius(function (d) {\n        return Math.sqrt(d.y0);\n      })\n      .outerRadius(function (d) {\n        return Math.sqrt(d.y1);\n      });\n\n    let csv = d3.csvParseRows(text);\n    let json = buildHierarchy(csv);\n    createVisualization(json);\n\n    function createVisualization(json) {\n      vis.append('svg:circle')\n        .attr('r', radius)\n        .style('opacity', 0);\n      let root = d3.hierarchy(json)\n        .sum(function (d) {\n          return d.size;\n        })\n        .sort(function (a, b) {\n          return b.value - a.value;\n        });\n      let nodes = partition(root)\n        .descendants();\n\n      vis.data([json])\n        .selectAll('path')\n        .data(nodes)\n        .enter()\n        .append('a')\n        .attr('xlink:href', currentUrl)\n        .on('touchstart', touchStart)\n        .append('svg:path')\n        .attr('display', function (d) {\n          return d.depth ? null : 'none';\n        })\n        .attr('d', arc)\n        .attr('fill-rule', 'evenodd')\n        .style('fill', function (d) {\n          if (d.data.name === 'end') {\n            return '#000000';\n          } else {\n            return colors((d.children ? d : d.parent).data.name);\n          }\n        })\n        .style('opacity', 1)\n        .style('cursor', 'pointer')\n        .on('mouseover', mouseover);\n\n      d3.select('#d3_container')\n        .on('mouseleave', mouseleave);\n    }\n\n    /** on mobile devices, touching the RadialTree prevents the ``click``\n     *  event and shows the URL like on ``mouseover`` event. Users can click\n     *  on the URL to visit the target page */\n    function touchStart(d) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n      mouseover(d);\n      return false;\n    }\n\n    function currentUrl(d) {\n      const anc = d.ancestors().reverse();\n      let url = '';\n      for (let i = 1; i < anc.length; i++) {\n        if (anc[i].data.name === 'end') {\n          break;\n        }\n        url = url + '/' + anc[i].data.name;\n      }\n      return `${baseURL}/web/${GlobYear}0630${url}`;\n    }\n\n    function mouseover(d) {\n      let sequenceArray = d.ancestors().reverse();\n      sequenceArray.shift();\n      let url = currentUrl(d);\n      updateBreadcrumbs(sequenceArray, url);\n      d3.selectAll('path').style('opacity', 0.3);\n      vis.selectAll('path').filter(function (node) {\n        return (sequenceArray.indexOf(node) >= 0);\n      }).style('opacity', 1);\n    }\n\n    function mouseleave() {\n      element.querySelector('.sequence').innerHTML = '';\n      d3.selectAll('path').on('mouseover', null);\n      d3.selectAll('path').transition().style('opacity', 1).on('end', function () {\n        d3.select(this).on('mouseover', mouseover);\n      });\n    }\n\n    function updateBreadcrumbs(nodeArray, url) {\n      let text = '';\n      let symb = document.createElement('span');\n      symb.setAttribute('class', 'symb');\n      symb.innerHTML = '/';\n      for (let i = 0; i < nodeArray.length; i++) {\n        if (i === 0) {\n          text = ' ' + nodeArray[i].data.name;\n        } else {\n          text = text + symb.innerHTML + nodeArray[i].data.name;\n        }\n      }\n      text = decodeURIComponent(text);\n      element.querySelector('.sequence').innerHTML = `<a href=\"${url}\">${text}</a>`;\n    }\n\n    function buildHierarchy(csv) {\n      csv.sort(function (a, b) {\n        return a[0].length - b[0].length || a[0].localeCompare(b[0]);\n      });\n      let real_urls = {};\n      real_urls[option.url] = 1;\n      if (option.url.slice(-1) !== '/') {\n        real_urls[option.url + '/'] = 1;\n      }\n      for (let i = 0; i < csv.length; i++) {\n        let key = String(csv[i][0]).trim().replace(':80/', '/');\n        real_urls[key] = 1;\n        if (key.slice(-1) !== '/') {\n          real_urls[key + '/'] = 1;\n        }\n      }\n\n      let DELIMITER = '|';\n\n      function filterRealUrl(url) {\n        let parts = url.trim().split('/');\n        let delimiter_index = [];\n        for (let i = 1; i < parts.length; i++) {\n          let potentialUrl = parts.slice(0, i).join('/');\n          if (potentialUrl in real_urls === false && i > 0) {\n            let pos = parts.slice(0, i).join('/').length;\n            delimiter_index.push(pos);\n          }\n        }\n        if (delimiter_index.length > 0) {\n          let result_url = url;\n          for (let j = 1; j < delimiter_index.length; j++) {\n            let index = delimiter_index[j];\n            result_url = result_url.substr(0, index) + DELIMITER + result_url.substr(index + 1);\n          }\n          return result_url;\n        }\n        return url;\n      }\n\n      let root = {name: 'root', children: []};\n      for (let i = 0; i < csv.length; i++) {\n        let sequence = filterRealUrl(csv[i][0]);\n        let size = +csv[i][1];\n        if (isNaN(size)) {\n          continue;\n        }\n        let parts = sequence.split('/');\n        parts = parts.map(function (s) {\n          return s.replace(/\\|/g, '/');\n        });\n        let currentNode = root;\n        for (let j = 0; j < parts.length; j++) {\n          let children = currentNode.children;\n          let nodeName = parts[j];\n          let childNode;\n          if (j + 1 < parts.length) {\n            let foundChild = false;\n            for (let k = 0; k < children.length; k++) {\n              if (children[k].name === nodeName) {\n                childNode = children[k];\n                foundChild = true;\n                break;\n              }\n            }\n            if (!foundChild) {\n              childNode = {name: nodeName, children: []};\n              children.push(childNode);\n            }\n            currentNode = childNode;\n          } else {\n            childNode = {name: nodeName, size: size};\n            children.push(childNode);\n          }\n        }\n      }\n      return root;\n    }\n  }\n\n  function makeNewText(n, yearData) {\n    let text = '';\n    let x = 2;\n    if (yearData[n].length === 2) {\n      x = 1;\n    }\n    for (let i = x; i < yearData[n].length; i++) {\n      if (i !== (yearData[n].length - 1)) {\n        text = text + yearData[n][i] + ' ,1' + '\\n';\n      } else {\n        text = text + yearData[n][i] + ' ,1';\n      }\n    }\n    return text;\n  }\n}\n","import _ from 'lodash';\n\n\n/**\n * Process timemap data from endpoint /web/timemap/json to the inner format\n *\n * @param url\n * @param data\n * @returns {*}\n */\nexport function processTimeMapData(url, data) {\n  let regexHTTP = /http:\\/\\//;\n  let regexHTTPS = /https:\\/\\//;\n  let regexLast = /\\/$/;\n  url.replace(regexHTTP, '');\n  url.replace(regexHTTPS, '');\n  url.replace(regexLast, '');\n\n  if (data.length === 0) {\n    return {\n      allYears: [],\n      yearData: [],\n    };\n  }\n\n  let yearUrl = [];\n  for (let i = 1; i < data.length; i++) {\n    if (data[i][1].match(/jpg|pdf|png|form|gif/)) {\n      continue;\n    }\n    data[i][1] = data[i][1].trim().replace(':80/', '/');\n    if (data[i][0] in yearUrl) {\n      yearUrl[data[i][0]].push(data[i][1]);\n    } else {\n      yearUrl[data[i][0]] = [data[i][1]];\n    }\n  }\n  let ret = [];\n  for (let year in yearUrl) {\n    ret.push([year].concat(yearUrl[year]));\n  }\n  /** ret has the following format:\n   *  array(\n   *    array(2005, url1, url2, .... urlN),\n   *    ...\n   *  ) **/\n  let years = (function () {\n    for (let i = 0; i < ret.length; i++) {\n      let urls = [];\n\n      for (let j = 1; j < ret[i].length; j++) {\n        let url;\n        if (ret[i][j].includes('http')) {\n          url = ret[i][j].substring(7);\n        } else if (ret[i][j].includes('https')) {\n          url = ret[i][j].substring(8);\n        }\n        if (url.includes('//')) {\n          url = url.split('//').join('/');\n        }\n        url = url.split('/').join('/');\n        urls.push(url);\n      }\n\n      urls = _.uniq(urls.sort());\n\n      //year should be the 1st\n      urls.unshift(ret[i][0]);\n\n      ret[i] = urls;\n    }\n    return ret;\n  }());\n\n  let all_years = years.map(function (year) {\n    if (year.length > 1) {\n      return year[0];\n    }\n  });\n\n  return {\n    allYears: all_years,\n    yearData: years,\n  };\n}\n"],"names":["element","cdx_data","option","GlobYear","baseURL","url","container","content","document","createElement","setAttribute","divBtn","sequence","chart","appendChild","style","display","data","replace","length","yearUrl","i","match","trim","push","ret","year","concat","years","urls","j","includes","substring","split","join","_","uniq","sort","unshift","map","processTimeMapData","allYears","yearData","querySelector","forEach","btn","innerHTML","onclick","evt","target","classList","remove","add","id","text","n","x","makeNewText","indexOf","touchStart","d","preventDefault","stopPropagation","currentUrl","anc","ancestors","reverse","name","mouseover","sequenceArray","shift","nodeArray","symb","decodeURIComponent","selectAll","filter","node","mouseleave","on","transition","this","width","offsetWidth","height","radius","Math","min","colors","d3","vis","append","attr","partition","size","PI","arc","startAngle","x0","endAngle","x1","innerRadius","sqrt","y0","outerRadius","y1","json","root","sum","a","b","value","nodes","descendants","enter","depth","children","parent","csv","filterRealUrl","parts","delimiter_index","potentialUrl","slice","real_urls","pos","result_url","index","substr","DELIMITER","localeCompare","key","String","isNaN","s","currentNode","nodeName","childNode","foundChild","k","buildHierarchy","click"],"mappings":"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"}